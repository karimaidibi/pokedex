<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Pokedex </title>
    <!-- Import Styles -->
    <link rel="stylesheet" href="css/page_principale.css" />
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <!-- Import Vue.js -->
    <script src="https://unpkg.com/vue@3.0.11/dist/vue.global.js"></script>
  </head>
  <body>
    <div id="app">

      <!--heeder-->
      <div class="header">
        <h2>Pokedex <em style="color:white; font-size: x-small;">by karim aidibi</em></h2>
      </div>

      <!--search bar-->
      <div class="searchDivision">
        <h3 style="padding-top:10px">search by name or number</h3>
        <div class="d-flex justify-content-center" style="padding-bottom:15px;">
          <div class="p2 ">
              <input class="form-control" id="searchPokemon" placeholder="Chercher...">
          </div>
          <div class="p2 mt-1">
            <button @click="filterPokemon" style="margin-left:10px; background-color: white;">
              <i class="bi bi-search"></i>
            </button>
          </div>                   
        </div>
      </div>
    
        <!--les pokemon-->
      <div class="mt-4 PokemonsDiv">
          <!--row-->
          <div v-if="pokemon_list" class="p-3 row row-cols-2 row-cols-lg-4 g-2 g-lg-3">
              <!--column-->
              <div v-for="(dict, index) in pokemon_list" :key=dict.id class="col pokemonbox">
                  <div class="border bg-light p-3">
                      <img v-bind:src="dict.img_url" style="width: auto; height: auto;">
                      <p class="idpokemon"><em>#{{dict.id}}</em></p>
                      <br/>
                      <p class="namepokemon">{{dict.name}}</p>
                      <br/>
                      <button
                      type="button"
                      data-bs-toggle="modal"
                      data-bs-target="#staticBackdrop"
                      style="background-color:red;"
                      v-on:click="getPokemonDetails(dict.id,dict.name,dict.img_url,dict.url)"
                      >details
                      </button>

                      <!-- Modal -->
                      <div v-show="selected_pokemon" class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                        <div class="modal-dialog">
                          <div class="modal-content">
                            <div class="modal-header">
                              <h5 class="modal-title" id="staticBackdropLabel">{{selected_pokemon.name}} #{{selected_pokemon.id}}</h5>
                              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                              <img v-bind:src="selected_pokemon.img_url">
                              <br/>
                              height : {{selected_pokemon.height}}
                              <br/>
                              weight : {{selected_pokemon.weight}}
                              <br/>
                              <p v-for="ability in selected_pokemon.abilities">ability : {{ability.ability.name}}</p>
                              <br/>
                              <p v-for="type in selected_pokemon.types"> type : {{type.type.name}}</p>
                            </div>
                            <div class="modal-footer">
                              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                            </div>
                          </div>
                        </div>
                      </div>
                  </div>
              </div>
          </div>
      </div>
    </div>

    <!-- Import App -->
    <script src="./main.js"></script>

    <!-- Import Components -->
    <script src=""></script>

        <!-- Optional JavaScript; choose one of the two! -->
    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

    <!-- Mount App -->
    <script>
      const mountedApp = app.mount('#app')
    </script>

  </body>
</html>
